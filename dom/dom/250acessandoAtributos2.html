<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Acessando Atributos #02</title>
    <link rel='stylesheet' href='css/estilo.css'>
</head>

<body class='conteudo exercicio'>
    <div>
        <label for="compras">Compras</label>
        <ul id="compras" destino='escritório' data-urgencia="5">
            <li>Café</li>
            <li>Água</li>
            <li>Copo Descartável</li>
        </ul>
    </div>
    <script>
        const lista = document.querySelector('div ul[destino="escritório"]')

        console.log('Elemento "ul"..................')
        console.log('childNodes', lista.childNodes)
        console.log('destino', lista.id)
        // Propriedades personalizadas não podem ser
        //acessadas como se fossem objetos.
        console.log('destino', lista.destino)

        // mas com o getAttribute funciona: 
        console.log('getAttribute', lista.getAttribute('destino'))

        // O hasAttribute é uma propriedade que mostra
        //se um dado atributo está ou não presente dentro
        //de um dado elemento
        console.log('hasAttribute', lista.hasAttribute('destino'))

        // Com o setAttribute podemos adicionar um
        //novo atributo que não existe. Se já existir
        //então ele será sobrescrito
        lista.setAttribute('destino', 'empresa')

        lista.setAttribute('status', 'aberto')

        lista.removeAttribute('destino')

        // Atributos que tem o prefixo data- são 
        //tratados como atributos personalizados já
        //esperados pela linguagem, e por isso tem
        //um comportamento um pouco diferente.
        //Ao printarmos o dataset de uma dada tag
        //HTML, é retornado um DOMStringMap que 
        //vai conter 1 objeto para cada atributo 
        //personalizado que tenha data- como prefixo
        //No caso, o resultado será: {urgencia: "5"}
        console.log(lista.dataset)

        // Na prática nem os frameworks usam muito
        //esse padrão do data- , então não é 
        //obrigado seu uso. Mas devemos saber que
        //o tratamento de atributos com data- é um
        //pouco diferenciado pois é um prefixo
        //esperado pela especificação do HTML

        console.log(lista.dataset.urgencia) // 5
        lista.dataset.urgencia = 4
        console.log(lista.dataset.urgencia)
        console.log(lista.getAttribute('data-urgencia'))

        // CUIDADO
        // Alguns atributos devem ser acessados com o
        //nome um pouco diferente em uma dada tag
        //usando a notação de objetos quando
        //esse nome for uma palavra reservada da linguagem
        //Exemplo:
        const label = document.querySelector('label')
        console.log(label.for) //undefined

        // Assim funciona:
        console.log(label.htmlFor)
        // Com getAttribute também funciona:
        console.log(label.getAttribute('for'))
        // COm o getAttribute se colocarmos htmlFor irá
        //resultar em undefined, então quando usamos o 
        //getAttribute colocmos o nome do atributo
        //igualzinho foi declarado dentro da tag HTML.
        console.log(label.getAttribute('htmlFor'))

    </script>
</body>

</html>